{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0428\\u043D\\u044B\\u0440\\u044C\\\\Desktop\\\\\\u0434\\u0438\\u043F\\u043B\\u043E\\u043C\\\\frontend\\\\frontend\\\\src\\\\componets\\\\layout\\\\header\\\\context.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const authContext = /*#__PURE__*/createContext();\nconst Context = props => {\n  _s();\n  const [auth, setAuth] = useState(false);\n  const [authAdmin, setAuthAdmin] = useState(false);\n  useEffect(() => {\n    axios.get('http://localhost:8000/protected-route', {\n      headers: {\n        'accept': 'application/json'\n      },\n      withCredentials: true\n    }).then(res => setAuth(true)).catch(exp => setAuth(false));\n    axios.get('http://localhost:8000/protected-route/super', {\n      headers: {\n        'accept': 'application/json'\n      },\n      withCredentials: true\n    }).then(res => setAuthAdmin(true)).catch(exp => setAuthAdmin(false));\n  }, []);\n  const sucessAuth = val => {\n    if (val) {\n      axios.get('http://localhost:8000/protected-route', {\n        headers: {\n          'accept': 'application/json'\n        },\n        withCredentials: true\n      }).then(res => setAuth(true)).catch(exp => setAuth(false));\n      axios.get('http://localhost:8000/protected-route/super', {\n        headers: {\n          'accept': 'application/json'\n        },\n        withCredentials: true\n      }).then(res => setAuthAdmin(true)).catch(exp => setAuthAdmin(false));\n    } else {\n      setAuth(false);\n      setAuthAdmin(false);\n    }\n  };\n  const value = {\n    auth,\n    authAdmin,\n    sucessAuth\n  };\n  return /*#__PURE__*/_jsxDEV(authContext.Provider, {\n    value: value,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(Context, \"YQTY2chHvaR9nuT0hj0NOxXwYGE=\");\n_c = Context;\nexport default Context;\nvar _c;\n$RefreshReg$(_c, \"Context\");","map":{"version":3,"names":["React","createContext","useEffect","useState","axios","jsxDEV","_jsxDEV","authContext","Context","props","_s","auth","setAuth","authAdmin","setAuthAdmin","get","headers","withCredentials","then","res","catch","exp","sucessAuth","val","value","Provider","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Шнырь/Desktop/диплом/frontend/frontend/src/componets/layout/header/context.js"],"sourcesContent":["import React, {createContext, useEffect, useState} from 'react';\r\nimport axios from \"axios\";\r\nexport const authContext=createContext()\r\nconst Context = (props) => {\r\n    const [auth,setAuth]=useState(false)\r\n    const [authAdmin,setAuthAdmin]=useState(false)\r\n    useEffect(() => {\r\n        axios.get('http://localhost:8000/protected-route',{\r\n            headers: {\r\n                'accept': 'application/json'\r\n            },\r\n            withCredentials: true\r\n        }).then((res)=>setAuth(true)\r\n        ).catch((exp)=>setAuth(false))\r\n        axios.get('http://localhost:8000/protected-route/super',{\r\n            headers: {\r\n                'accept': 'application/json'\r\n            },\r\n            withCredentials: true\r\n        }).then((res)=>setAuthAdmin(true)\r\n        ).catch((exp)=>setAuthAdmin(false))\r\n    }, []);\r\n    const sucessAuth=(val)=>{\r\n        if(val) {\r\n            axios.get('http://localhost:8000/protected-route', {\r\n                headers: {\r\n                    'accept': 'application/json'\r\n                },\r\n                withCredentials: true\r\n            }).then((res) => setAuth(true)\r\n            ).catch((exp) => setAuth(false))\r\n            axios.get('http://localhost:8000/protected-route/super',{\r\n                headers: {\r\n                    'accept': 'application/json'\r\n                },\r\n                withCredentials: true\r\n            }).then((res)=>setAuthAdmin(true)\r\n            ).catch((exp)=>setAuthAdmin(false))\r\n        }else{\r\n            setAuth(false)\r\n            setAuthAdmin(false)\r\n        }\r\n    }\r\n    const value={\r\n        auth,\r\n        authAdmin,\r\n        sucessAuth\r\n    }\r\n    return (\r\n        <authContext.Provider value={value}>{props.children}</authContext.Provider>\r\n    );\r\n};\r\n\r\nexport default Context;"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,aAAa,EAAEC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAC/D,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC1B,OAAO,MAAMC,WAAW,gBAACN,aAAa,CAAC,CAAC;AACxC,MAAMO,OAAO,GAAIC,KAAK,IAAK;EAAAC,EAAA;EACvB,MAAM,CAACC,IAAI,EAACC,OAAO,CAAC,GAACT,QAAQ,CAAC,KAAK,CAAC;EACpC,MAAM,CAACU,SAAS,EAACC,YAAY,CAAC,GAACX,QAAQ,CAAC,KAAK,CAAC;EAC9CD,SAAS,CAAC,MAAM;IACZE,KAAK,CAACW,GAAG,CAAC,uCAAuC,EAAC;MAC9CC,OAAO,EAAE;QACL,QAAQ,EAAE;MACd,CAAC;MACDC,eAAe,EAAE;IACrB,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAGP,OAAO,CAAC,IAAI,CAC3B,CAAC,CAACQ,KAAK,CAAEC,GAAG,IAAGT,OAAO,CAAC,KAAK,CAAC,CAAC;IAC9BR,KAAK,CAACW,GAAG,CAAC,6CAA6C,EAAC;MACpDC,OAAO,EAAE;QACL,QAAQ,EAAE;MACd,CAAC;MACDC,eAAe,EAAE;IACrB,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAGL,YAAY,CAAC,IAAI,CAChC,CAAC,CAACM,KAAK,CAAEC,GAAG,IAAGP,YAAY,CAAC,KAAK,CAAC,CAAC;EACvC,CAAC,EAAE,EAAE,CAAC;EACN,MAAMQ,UAAU,GAAEC,GAAG,IAAG;IACpB,IAAGA,GAAG,EAAE;MACJnB,KAAK,CAACW,GAAG,CAAC,uCAAuC,EAAE;QAC/CC,OAAO,EAAE;UACL,QAAQ,EAAE;QACd,CAAC;QACDC,eAAe,EAAE;MACrB,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAKP,OAAO,CAAC,IAAI,CAC7B,CAAC,CAACQ,KAAK,CAAEC,GAAG,IAAKT,OAAO,CAAC,KAAK,CAAC,CAAC;MAChCR,KAAK,CAACW,GAAG,CAAC,6CAA6C,EAAC;QACpDC,OAAO,EAAE;UACL,QAAQ,EAAE;QACd,CAAC;QACDC,eAAe,EAAE;MACrB,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAGL,YAAY,CAAC,IAAI,CAChC,CAAC,CAACM,KAAK,CAAEC,GAAG,IAAGP,YAAY,CAAC,KAAK,CAAC,CAAC;IACvC,CAAC,MAAI;MACDF,OAAO,CAAC,KAAK,CAAC;MACdE,YAAY,CAAC,KAAK,CAAC;IACvB;EACJ,CAAC;EACD,MAAMU,KAAK,GAAC;IACRb,IAAI;IACJE,SAAS;IACTS;EACJ,CAAC;EACD,oBACIhB,OAAA,CAACC,WAAW,CAACkB,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAAE,QAAA,EAAEjB,KAAK,CAACiB;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAuB,CAAC;AAEnF,CAAC;AAACpB,EAAA,CAhDIF,OAAO;AAAAuB,EAAA,GAAPvB,OAAO;AAkDb,eAAeA,OAAO;AAAC,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}